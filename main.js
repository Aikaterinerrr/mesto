(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){var r,o,i=this,a=e.data,u=e.handleCardClick,c=e.handleDelClick,l=e.ownerId,s=e.addLike,f=e.removeLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=function(){i._cardLikeBtn.classList.contains("card__like-btn_active")?i._removeLike():i._addLike()},(r="_likeCard")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this._name=a.name,this._link=a.link,this._data=a,this._handleCardClick=u,this._handleDelClick=c,this._cardSelector=n,this._ownerId=l,this._addLike=s,this._removeLike=f}var n,r;return n=t,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardPhoto=this._element.querySelector(".card__card-image"),this._cardPhoto.src=this._link,this._cardPhoto.alt=this._name,this._cardTitle=this._element.querySelector(".card__card-title"),this._cardTitle.textContent=this._name,this._cardRemoveBtn=this._element.querySelector(".card__remove-btn"),this._cardLikeBtn=this._element.querySelector(".card__like-btn"),this._likesCounter=this._element.querySelector(".card__likes-counter"),this._likesCounter.textContent=this._data.likes.length||"0",this._checkOwner(),this._setEventListeners(),this._element}},{key:"updateLikes",value:function(e){this._cardLikeBtn.classList.toggle("card__like-btn_active"),this._likesCounter.textContent=e.likes.length}},{key:"removeCard",value:function(){this._element.remove()}},{key:"_checkOwner",value:function(){var e=this;this._data.owner._id!=this._ownerId&&(this._cardRemoveBtn.style.display="none"),this._data.likes.forEach((function(t){t._id===e._ownerId&&e._cardLikeBtn.classList.toggle("card__like-btn_active")}))}},{key:"_setEventListeners",value:function(){var e=this;this._cardRemoveBtn.addEventListener("click",(function(t){return e._handleDelClick(t)})),this._cardLikeBtn.addEventListener("click",this._likeCard),this._cardPhoto.addEventListener("click",(function(){return e._handleCardClick(e._data)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){var n=t.renderer,r=t.containerSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=n,this._container=document.querySelector(r)}var t,r;return t=e,(r=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"_showInputError",(function(e){r._errorElement=r._formElement.querySelector("#".concat(e.id,"-error")),e.classList.add(r._inputErrorClass),r._errorElement.textContent=e.validationMessage,r._errorElement.classList.add(r._errorClass)})),i(this,"_hideInputError",(function(e){r._errorElement=r._formElement.querySelector("#".concat(e.id,"-error")),e.classList.remove(r._inputErrorClass),r._errorElement.classList.remove(r._errorClass),r._errorElement.textContent=""})),i(this,"_checkInputValidity",(function(e){e.validity.valid?r._hideInputError(e):r._showInputError(e)})),i(this,"_hasInvalidInput",(function(){return r._inputList.some((function(e){return!e.validity.valid}))})),i(this,"_setEventListeners",(function(){r._buttonElement=r._formElement.querySelector(r._submitButtonSelector),r._inputList.forEach((function(e){e.addEventListener("input",(function(){r._checkInputValidity(e),r._toggleButtonState()}))}))})),this._formElement=n,this._inputSelector=t.inputSelector,this._submitButtonSelector=t.submitButtonSelector,this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass,this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))}var t,n;return t=e,(n=[{key:"resetValidation",value:function(){var e=this;this._toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"disableButtonState",value:function(){this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableButtonState",value:function(){this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableButtonState():this._enableButtonState()}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=t.userName,r=t.userInfo,o=t.userAvatar;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userInfo=document.querySelector(r),this._userAvatar=document.querySelector(o)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userInfo.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar;this._userName.textContent=t,this._userInfo.textContent=n,this.setAvatar(r)}},{key:"setAvatar",value:function(e){this._userAvatar.style.backgroundImage="url(".concat(e,")")}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this._handleCloseBtnAndOverlay=this._handleCloseBtnAndOverlay.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("modal_active"),this._setEventListeners()}},{key:"close",value:function(){this._popup.classList.remove("modal_active"),this._removeEventListeners()}},{key:"_handleEscClose",value:function(e){"Escape"==e.key&&this.close()}},{key:"_handleCloseBtnAndOverlay",value:function(e){(e.target.classList.contains("modal__overlay")||e.target.classList.contains("modal__close-btn"))&&this.close()}},{key:"_setEventListeners",value:function(){this._popup.addEventListener("mousedown",this._handleCloseBtnAndOverlay),document.addEventListener("keyup",this._handleEscClose)}},{key:"_removeEventListeners",value:function(){this._popup.removeEventListener("mousedown",this._handleCloseBtnAndOverlay),document.removeEventListener("keyup",this._handleEscClose)}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function y(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=m(r);if(o){var n=m(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function a(e){var t,n=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,n))._modalImagePicture=t._popup.querySelector(".modal__image"),t._modalImageCaption=t._popup.querySelector(".modal__caption"),t}return t=a,(n=[{key:"open",value:function(e){h(m(a.prototype),"open",this).call(this),this._modalImagePicture.src=e.link,this._modalImagePicture.alt=e.name,this._modalImageCaption.textContent=e.name}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s),b=document.querySelector(".profile__edit-btn"),g=document.querySelector(".profile__add-btn"),k=document.querySelector(".modal__info_type_user-name"),E=document.querySelector(".modal__info_type_user-job"),w=document.querySelector(".profile__avatar"),S={formSelector:".modal__form",inputSelector:".modal__info",submitButtonSelector:".modal__submit-btn",inactiveButtonClass:"modal__submit-btn_inactive",inputErrorClass:"modal__info_type_error",errorClass:"modal__input-error"};function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=P(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function I(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=B(r);if(o){var n=B(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return I(this,e)});function a(e){var t,n,r,o,u=e.popupSelector,c=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(e){e.preventDefault()},(r="_handleFormSubmit")in(n=R(t=i.call(this,u)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t._handleFormSubmit=c,t._formElement=t._popup.querySelector(S.formSelector),t._submitBtn=t._formElement.querySelector(S.submitButtonSelector),t._inputList=t._formElement.querySelectorAll(S.inputSelector),t}return t=a,(n=[{key:"getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){return e._formValues[t.name]=t.value})),this._formValues}},{key:"_setEventListeners",value:function(){L(B(a.prototype),"_setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handleFormSubmit)}},{key:"_removeEventListeners",value:function(){L(B(a.prototype),"_removeEventListeners",this).call(this),this._formElement.removeEventListener("submit",this._handleFormSubmit)}},{key:"notifyLoadProgress",value:function(e,t){this._submitBtn.textContent=e?"Сохранение...":t}},{key:"close",value:function(){L(B(a.prototype),"close",this).call(this),this._formElement.reset()}}])&&O(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_getResponse",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"setUserInfo",value:function(e){var t=this,n=e.name,r=e.about;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:n,about:r})}).then((function(e){return t._getResponse(e)}))}},{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(t){return e._getResponse(t)}))}},{key:"addCard",value:function(e){var t=this,n=e.name,r=e.link;return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:n,link:r})}).then((function(e){return t._getResponse(e)}))}},{key:"delCard",value:function(e){var t=this,n=e.cardId;return fetch(this._baseUrl+"/cards/".concat(n),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"removeLike",value:function(e){var t=this,n=e.cardId;return fetch(this._baseUrl+"/cards"+"/".concat(n,"/likes"),{method:"DELETE",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"addLike",value:function(e){var t=this,n=e.cardId;return fetch(this._baseUrl+"/cards"+"/".concat(n,"/likes"),{method:"PUT",headers:this._headers}).then((function(e){return t._getResponse(e)}))}},{key:"addAvatar",value:function(e){var t=this,n=e.inputValueData;return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:n.avatar})}).then((function(e){return t._getResponse(e)}))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=V(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(this,arguments)}function V(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}function N(e,t){return N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},N(e,t)}function F(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(o){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return F(this,e)});function a(e){var t,n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o=function(e){t._deleteCard(e)},(r="_handleDeleteCard")in(n=H(t=i.call(this,e)))?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,t._formElement=t._popup.querySelector(S.formSelector),t}return t=a,(n=[{key:"setSubmitHandler",value:function(e){this._deleteCard=e,this._formElement.addEventListener("submit",this._handleDeleteCard)}},{key:"_removeEventListeners",value:function(){x(J(a.prototype),"_removeEventListeners",this).call(this),this._formElement.removeEventListener("submit",this._handleDeleteCard)}}])&&D(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(s);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=null,G=new T({baseUrl:"https://mesto.nomoreparties.co/v1/cohort36",headers:{authorization:"cb9ff590-46ff-4deb-baa7-866967fcdc7e","Content-Type":"application/json"}});Promise.all([G.getUserInfo(),G.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];$=o._id,K.setUserInfo({name:o.name,about:o.about,avatar:o.avatar}),te.renderItems(i)})).catch((function(e){console.log(e)}));var K=new c({userName:".profile__user-name",userInfo:".profile__description",userAvatar:".profile__avatar"}),Q=new q({popupSelector:".modal_type_edit",handleFormSubmit:function(){Q.notifyLoadProgress(!0,"Сохранить");var e=Q.getInputValues();G.setUserInfo({name:e.name,about:e.about}).then((function(e){K.setUserInfo({name:e.name,about:e.about,avatar:e.avatar}),Q.close()})).catch((function(e){console.log(e)})).finally((function(){Q.notifyLoadProgress(!1,"Сохранить")}))}}),W=new q({popupSelector:".modal_type_edit-avatar",handleFormSubmit:function(){W.notifyLoadProgress(!0,"Сохранить");var e=W.getInputValues();G.addAvatar({inputValueData:e}).then((function(e){K.setAvatar(e.avatar),W.close()})).catch((function(e){console.log(e)})).finally((function(){W.notifyLoadProgress(!1,"Сохранить")}))}}),X=new q({popupSelector:".modal_type_add",handleFormSubmit:function(){X.notifyLoadProgress(!0,"Создать");var e=X.getInputValues();G.addCard({name:e.name,link:e.link}).then((function(e){var t=Z(e);te.addItem(t),X.close()})).catch((function(e){console.log(e)})).finally((function(){X.notifyLoadProgress(!1,"Создать")}))}}),Y=new M(".modal_type_confirmation");function Z(e){var n=new t({data:e,handleCardClick:function(){ee.open(e)},handleDelClick:function(){Y.setSubmitHandler((function(t){t.preventDefault(),G.delCard({cardId:e._id}).then((function(){n.removeCard(),Y.close()})).catch((function(e){console.log(e)}))})),Y.open()},ownerId:$,addLike:function(){G.addLike({cardId:e._id}).then((function(e){n.updateLikes(e)})).catch((function(e){console.log(e)}))},removeLike:function(){G.removeLike({cardId:e._id}).then((function(e){n.updateLikes(e)})).catch((function(e){console.log(e)}))}},".elements__template");return n.generateCard()}var ee=new v({popupSelector:".modal_type_image"}),te=new r({renderer:function(e){var t=Z(e);te.addItem(t)},containerSelector:".elements__cards"}),ne={};!function(e){Array.from(document.querySelectorAll(e.formSelector)).forEach((function(t){var n=new a(e,t),r=t.getAttribute("name");ne[r]=n,n.enableValidation()}))}(S),b.addEventListener("click",(function(){Q.open();var e=K.getUserInfo();k.value=e.name,E.value=e.about,ne["modal__form_type_edit-form"].resetValidation()})),g.addEventListener("click",(function(){X.open(),ne["modal__form_type_add-form"].resetValidation()})),w.addEventListener("click",(function(){W.open(),ne["modal__form_type_edit-avatar-form"].resetValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy/QoWFyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL3V0aWxzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoeyBkYXRhLCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZURlbENsaWNrLCBvd25lcklkLCBhZGRMaWtlLCByZW1vdmVMaWtlIH0sIGNhcmRTZWxlY3Rvcikge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsQ2xpY2sgPSBoYW5kbGVEZWxDbGljaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5fb3duZXJJZCA9IG93bmVySWQ7XG4gICAgdGhpcy5fYWRkTGlrZSA9IGFkZExpa2U7XG4gICAgdGhpcy5fcmVtb3ZlTGlrZSA9IHJlbW92ZUxpa2U7XG4gIH07XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkO1xuICB9O1xuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcblxuICAgIHRoaXMuX2NhcmRQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2NhcmQtaW1hZ2UnKTtcbiAgICB0aGlzLl9jYXJkUGhvdG8uc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkUGhvdG8uYWx0ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2NhcmQtdGl0bGUnKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fY2FyZFJlbW92ZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3JlbW92ZS1idG4nKTtcbiAgICB0aGlzLl9jYXJkTGlrZUJ0biA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnRuJyk7XG5cbiAgICB0aGlzLl9saWtlc0NvdW50ZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlcy1jb3VudGVyJyk7XG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5saWtlcy5sZW5ndGggfHwgJzAnO1xuXG4gICAgdGhpcy5fY2hlY2tPd25lcigpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9O1xuXG4gIHVwZGF0ZUxpa2VzKHJlcykge1xuICAgIHRoaXMuX2NhcmRMaWtlQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmRfX2xpa2UtYnRuX2FjdGl2ZScpO1xuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHJlcy5saWtlcy5sZW5ndGg7XG4gIH1cblxuICBfbGlrZUNhcmQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2NhcmRMaWtlQnRuLmNsYXNzTGlzdC5jb250YWlucygnY2FyZF9fbGlrZS1idG5fYWN0aXZlJykpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUxpa2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWRkTGlrZSgpO1xuICAgIH1cbiAgfTtcblxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH07XG5cbiAgX2NoZWNrT3duZXIoKSB7XG4gICAgaWYgKHRoaXMuX2RhdGEub3duZXIuX2lkICE9IHRoaXMuX293bmVySWQpIHtcbiAgICAgIHRoaXMuX2NhcmRSZW1vdmVCdG4uc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIH1cblxuICAgIHRoaXMuX2RhdGEubGlrZXMuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGlmIChlbGVtLl9pZCA9PT0gdGhpcy5fb3duZXJJZCkge1xuICAgICAgICB0aGlzLl9jYXJkTGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKCdjYXJkX19saWtlLWJ0bl9hY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkUmVtb3ZlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4gdGhpcy5faGFuZGxlRGVsQ2xpY2soZXZ0KSk7XG4gICAgdGhpcy5fY2FyZExpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9saWtlQ2FyZCk7XG4gICAgdGhpcy5fY2FyZFBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX2RhdGEpKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyLCBjb250YWluZXJTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfTtcblxuICByZW5kZXJJdGVtcyhpdGVtcykge1xuICAgIGl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KVxuICB9O1xuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSB2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgfTtcblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXG4gICAgfSk7XG4gIH07XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgZGlzYWJsZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfTtcblxuICBfZW5hYmxlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b25TdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdXR0b25TdGF0ZSgpO1xuICAgIH1cbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG59O1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VySW5mbywgdXNlckF2YXRhciB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lKTs7XG4gICAgdGhpcy5fdXNlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvKTtcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyKVxuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxuICAgICAgYWJvdXQ6IHRoaXMuX3VzZXJJbmZvLnRleHRDb250ZW50XG4gICAgfVxuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fdXNlckluZm8udGV4dENvbnRlbnQgPSBhYm91dDtcbiAgICB0aGlzLnNldEF2YXRhcihhdmF0YXIpO1xuICB9XG5cbiAgc2V0QXZhdGFyKGF2YXRhcikge1xuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2F2YXRhcn0pYDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVDbG9zZUJ0bkFuZE92ZXJsYXkgPSB0aGlzLl9oYW5kbGVDbG9zZUJ0bkFuZE92ZXJsYXkuYmluZCh0aGlzKTtcbiAgfTtcblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ21vZGFsX2FjdGl2ZScpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnbW9kYWxfYWN0aXZlJyk7XG4gICAgdGhpcy5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgX2hhbmRsZUNsb3NlQnRuQW5kT3ZlcmxheShldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19vdmVybGF5JykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21vZGFsX19jbG9zZS1idG4nKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZUJ0bkFuZE92ZXJsYXkpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9O1xuXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVDbG9zZUJ0bkFuZE92ZXJsYXkpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpXG4gIH07XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fbW9kYWxJbWFnZVBpY3R1cmUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2ltYWdlJyk7XG4gICAgdGhpcy5fbW9kYWxJbWFnZUNhcHRpb24gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NhcHRpb24nKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHN1cGVyLm9wZW4oKTtcblxuICAgIHRoaXMuX21vZGFsSW1hZ2VQaWN0dXJlLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9tb2RhbEltYWdlUGljdHVyZS5hbHQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbW9kYWxJbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnRuJyk7XG5leHBvcnQgY29uc3QgYWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsRWRpdFNlbGVjdG9yID0gJy5tb2RhbF90eXBlX2VkaXQnO1xuZXhwb3J0IGNvbnN0IG1vZGFsQWRkU2VsZWN0b3IgPSAnLm1vZGFsX3R5cGVfYWRkJztcbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlU2VsZWN0b3IgPSAnLm1vZGFsX3R5cGVfaW1hZ2UnO1xuZXhwb3J0IGNvbnN0IG1vZGFsRWRpdEF2YXRhclNlbGVjdG9yID0gJy5tb2RhbF90eXBlX2VkaXQtYXZhdGFyJztcbmV4cG9ydCBjb25zdCBtb2RhbENvbmZpcm1hdGlvblNlbGVjdG9yID0gJy5tb2RhbF90eXBlX2NvbmZpcm1hdGlvbic7XG5cbmV4cG9ydCBjb25zdCBlZGl0Rm9ybVNlbGVjdG9yID0gJy5tb2RhbF9fZm9ybV90eXBlX2VkaXQtZm9ybSc7XG5leHBvcnQgY29uc3QgYWRkRm9ybVNlbGVjdG9yID0gJy5tb2RhbF9fZm9ybV90eXBlX2FkZC1mb3JtJztcbmV4cG9ydCBjb25zdCBlZGl0QXZhdGFyRm9ybVNlbGVjdG9yID0gJy5tb2RhbF9fZm9ybV90eXBlX2VkaXQtYXZhdGFyLWZvcm0nO1xuXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbmZvX3R5cGVfdXNlci1uYW1lJyk7XG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2luZm9fdHlwZV91c2VyLWpvYicpO1xuXG5leHBvcnQgY29uc3QgcHJvZmlsZVVzZXJOYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX3VzZXItbmFtZSc7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJztcbmV4cG9ydCBjb25zdCBwcm9maWxlVXNlckF2YXRhclNlbGVjdG9yID0gJy5wcm9maWxlX19hdmF0YXInO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVVc2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpXG5cbmV4cG9ydCBjb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gJy5lbGVtZW50c19fY2FyZHMnO1xuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gJy5lbGVtZW50c19fdGVtcGxhdGUnO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLm1vZGFsX19mb3JtJyxcbiAgaW5wdXRTZWxlY3RvcjogJy5tb2RhbF9faW5mbycsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLm1vZGFsX19zdWJtaXQtYnRuJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ21vZGFsX19zdWJtaXQtYnRuX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnbW9kYWxfX2luZm9fdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdtb2RhbF9faW5wdXQtZXJyb3InXG59O1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKTtcbiAgfTtcblxuICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goaW5wdXQgPT4gdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKTtcblxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xuICB9O1xuXG4gIF9oYW5kbGVGb3JtU3VibWl0ID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQpO1xuICB9O1xuXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KTtcbiAgfTtcblxuICBub3RpZnlMb2FkUHJvZ3Jlc3MoaW5Qcm9ncmVzcywgZGVmYXVsdFRleHQpIHtcbiAgICBpZiAoaW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gZGVmYXVsdFRleHQ7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcbiAgfVxuXG4gIF9nZXRSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKVxuICAgICAgfSlcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlKHJlcylcbiAgICAgIH0pXG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZShyZXMpXG4gICAgICB9KVxuICB9XG5cbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZTogbmFtZSwgbGluazogbGluayB9KVxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZShyZXMpXG4gICAgICB9KVxuICB9XG5cbiAgZGVsQ2FyZCh7IGNhcmRJZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBgL2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSZXNwb25zZShyZXMpXG4gICAgICB9KVxuICB9XG5cbiAgcmVtb3ZlTGlrZSh7IGNhcmRJZCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyAnL2NhcmRzJyArIGAvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJlc3BvbnNlKHJlcylcbiAgICAgIH0pXG4gIH1cblxuICBhZGRMaWtlKHsgY2FyZElkIH0pIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvY2FyZHMnICsgYC8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKVxuICAgICAgfSlcbiAgfVxuXG4gIGFkZEF2YXRhcih7IGlucHV0VmFsdWVEYXRhIH0pIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArICcvdXNlcnMvbWUvYXZhdGFyJywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBpbnB1dFZhbHVlRGF0YS5hdmF0YXIgfSlcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UmVzcG9uc2UocmVzKVxuICAgICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3Rvcih2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3Rvcik7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQ2FyZCA9IChldnQpID0+IHtcbiAgICB0aGlzLl9kZWxldGVDYXJkKGV2dCk7XG4gIH1cblxuICBzZXRTdWJtaXRIYW5kbGVyKHN1Ym1pdCkge1xuICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSBzdWJtaXQ7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlRGVsZXRlQ2FyZClcbiAgfVxuXG4gIF9yZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5fcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVEZWxldGVDYXJkKVxuICB9XG59XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy/QoWFyZC5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xuaW1wb3J0IHtcbiAgZWRpdEJ1dHRvbixcbiAgYWRkQnV0dG9uLFxuICBtb2RhbEVkaXRTZWxlY3RvcixcbiAgbW9kYWxFZGl0QXZhdGFyU2VsZWN0b3IsXG4gIG1vZGFsQWRkU2VsZWN0b3IsXG4gIG1vZGFsQ29uZmlybWF0aW9uU2VsZWN0b3IsXG4gIG1vZGFsSW1hZ2VTZWxlY3RvcixcbiAgZWRpdEZvcm1TZWxlY3RvcixcbiAgYWRkRm9ybVNlbGVjdG9yLFxuICBlZGl0QXZhdGFyRm9ybVNlbGVjdG9yLFxuICBuYW1lSW5wdXQsXG4gIGpvYklucHV0LFxuICBwcm9maWxlVXNlck5hbWVTZWxlY3RvcixcbiAgcHJvZmlsZURlc2NyaXB0aW9uU2VsZWN0b3IsXG4gIHByb2ZpbGVVc2VyQXZhdGFyU2VsZWN0b3IsXG4gIHByb2ZpbGVVc2VyQXZhdGFyLFxuICBjYXJkTGlzdFNlbGVjdG9yLFxuICBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgdmFsaWRhdGlvbkNvbmZpZ1xufSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XG5cbmxldCBvd25lcklkID0gbnVsbDtcblxuLy9Db21tb24gb3B0aW9uc1xuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0MzYnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJ2NiOWZmNTkwLTQ2ZmYtNGRlYi1iYWE3LTg2Njk2N2ZjZGM3ZScsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICB9XG59KTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoW3JlY2lldmVkVXNlckluZm8sIHJlY2lldmVkSW5pdGlhbENhcmRzXSkgPT4ge1xuICAgIG93bmVySWQgPSByZWNpZXZlZFVzZXJJbmZvLl9pZDtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiByZWNpZXZlZFVzZXJJbmZvLm5hbWUsXG4gICAgICBhYm91dDogcmVjaWV2ZWRVc2VySW5mby5hYm91dCxcbiAgICAgIGF2YXRhcjogcmVjaWV2ZWRVc2VySW5mby5hdmF0YXJcbiAgICB9KTtcbiAgICBjYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMocmVjaWV2ZWRJbml0aWFsQ2FyZHMpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUubG9nKGVycilcbiAgfSlcblxuLy9Vc2VyIGFuZCBhdmF0YXIgb3B0aW9uc1xuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogcHJvZmlsZVVzZXJOYW1lU2VsZWN0b3IsXG4gIHVzZXJJbmZvOiBwcm9maWxlRGVzY3JpcHRpb25TZWxlY3RvcixcbiAgdXNlckF2YXRhcjogcHJvZmlsZVVzZXJBdmF0YXJTZWxlY3RvclxufSk7XG5cbmNvbnN0IGVkaXRQcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IG1vZGFsRWRpdFNlbGVjdG9yLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XG4gICAgZWRpdFByb2ZpbGVNb2RhbC5ub3RpZnlMb2FkUHJvZ3Jlc3ModHJ1ZSwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xuICAgIGNvbnN0IHByb2ZpbGVJbnB1dFZhbHVlcyA9IGVkaXRQcm9maWxlTW9kYWwuZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICBhcGkuc2V0VXNlckluZm8oe1xuICAgICAgbmFtZTogcHJvZmlsZUlucHV0VmFsdWVzLm5hbWUsXG4gICAgICBhYm91dDogcHJvZmlsZUlucHV0VmFsdWVzLmFib3V0XG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgIG5hbWU6IHJlcy5uYW1lLFxuICAgICAgICAgIGFib3V0OiByZXMuYWJvdXQsXG4gICAgICAgICAgYXZhdGFyOiByZXMuYXZhdGFyXG4gICAgICAgIH0pXG4gICAgICAgIGVkaXRQcm9maWxlTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBlZGl0UHJvZmlsZU1vZGFsLm5vdGlmeUxvYWRQcm9ncmVzcyhmYWxzZSwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpXG4gICAgICB9KVxuICB9XG59KTtcblxuY29uc3QgZWRpdEF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBtb2RhbEVkaXRBdmF0YXJTZWxlY3RvcixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKCkgPT4ge1xuICAgIGVkaXRBdmF0YXJNb2RhbC5ub3RpZnlMb2FkUHJvZ3Jlc3ModHJ1ZSwgJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xuICAgIGNvbnN0IGlucHV0VmFsdWVEYXRhID0gZWRpdEF2YXRhck1vZGFsLmdldElucHV0VmFsdWVzKCk7XG4gICAgYXBpLmFkZEF2YXRhcih7IGlucHV0VmFsdWVEYXRhIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKVxuICAgICAgICBlZGl0QXZhdGFyTW9kYWwuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBlZGl0QXZhdGFyTW9kYWwubm90aWZ5TG9hZFByb2dyZXNzKGZhbHNlLCAn0KHQvtGF0YDQsNC90LjRgtGMJylcbiAgICAgIH0pXG4gIH1cbn0pO1xuXG4vL0NhcmQgb3B0aW9uc1xuY29uc3QgYWRkQ2FyZE1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBtb2RhbEFkZFNlbGVjdG9yLFxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XG4gICAgYWRkQ2FyZE1vZGFsLm5vdGlmeUxvYWRQcm9ncmVzcyh0cnVlLCAn0KHQvtC30LTQsNGC0YwnKVxuICAgIGNvbnN0IG5ld0NhcmRJbnB1dFZhbHVlcyA9IGFkZENhcmRNb2RhbC5nZXRJbnB1dFZhbHVlcygpO1xuICAgIGFwaS5hZGRDYXJkKHtcbiAgICAgIG5hbWU6IG5ld0NhcmRJbnB1dFZhbHVlcy5uYW1lLFxuICAgICAgbGluazogbmV3Q2FyZElucHV0VmFsdWVzLmxpbmtcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlTmV3Q2FyZChyZXMpO1xuICAgICAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShuZXdDYXJkKTtcbiAgICAgICAgYWRkQ2FyZE1vZGFsLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgYWRkQ2FyZE1vZGFsLm5vdGlmeUxvYWRQcm9ncmVzcyhmYWxzZSwgJ9Ch0L7Qt9C00LDRgtGMJylcbiAgICAgIH0pXG4gIH1cbn0pO1xuXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKG1vZGFsQ29uZmlybWF0aW9uU2VsZWN0b3IpO1xuXG5mdW5jdGlvbiBjcmVhdGVOZXdDYXJkKG5ld0NhcmRkYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgZGF0YTogbmV3Q2FyZGRhdGEsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoKSA9PiB7XG4gICAgICBtb2RhbEltYWdlLm9wZW4obmV3Q2FyZGRhdGEpO1xuICAgIH0sXG4gICAgaGFuZGxlRGVsQ2xpY2s6ICgpID0+IHtcbiAgICAgIGRlbGV0ZUNhcmRNb2RhbC5zZXRTdWJtaXRIYW5kbGVyKChldnQpID0+IHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGFwaS5kZWxDYXJkKHtcbiAgICAgICAgICBjYXJkSWQ6IG5ld0NhcmRkYXRhLl9pZFxuICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBkZWxldGVDYXJkTW9kYWwub3BlbigpO1xuICAgIH0sXG4gICAgb3duZXJJZCxcbiAgICBhZGRMaWtlOiAoKSA9PiB7XG4gICAgICBhcGkuYWRkTGlrZSh7XG4gICAgICAgIGNhcmRJZDogbmV3Q2FyZGRhdGEuX2lkXG4gICAgICB9KVxuICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhyZXMpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgICB9KVxuICAgIH0sXG4gICAgcmVtb3ZlTGlrZTogKCkgPT4ge1xuICAgICAgYXBpLnJlbW92ZUxpa2Uoe1xuICAgICAgICBjYXJkSWQ6IG5ld0NhcmRkYXRhLl9pZFxuICAgICAgfSlcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGNhcmQudXBkYXRlTGlrZXMocmVzKVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgICAgfSlcbiAgICB9XG4gIH0sIGNhcmRUZW1wbGF0ZVNlbGVjdG9yKTtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xuXG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn07XG5cbmNvbnN0IG1vZGFsSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xuICBwb3B1cFNlbGVjdG9yOiBtb2RhbEltYWdlU2VsZWN0b3Jcbn0pO1xuXG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGNhcmRJdGVtID0gY3JlYXRlTmV3Q2FyZChpdGVtKTtcbiAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShjYXJkSXRlbSlcbiAgfSxcbiAgY29udGFpbmVyU2VsZWN0b3I6IGNhcmRMaXN0U2VsZWN0b3Jcbn0pO1xuXG4vL1ZhbGlkYXRpb24gb3B0aW9uc1xuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fVxuXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcbiAgY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbkNvbmZpZy5mb3JtU2VsZWN0b3IpKVxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KVxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCduYW1lJylcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XG4gICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG5cbi8vRXZlbnQgbGlzdGVuZXJzXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBlZGl0UHJvZmlsZU1vZGFsLm9wZW4oKTtcbiAgY29uc3QgcmVjaWV2ZWRJbmZvID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gcmVjaWV2ZWRJbmZvLm5hbWU7XG4gIGpvYklucHV0LnZhbHVlID0gcmVjaWV2ZWRJbmZvLmFib3V0O1xuICBmb3JtVmFsaWRhdG9yc1snbW9kYWxfX2Zvcm1fdHlwZV9lZGl0LWZvcm0nXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5hZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGFkZENhcmRNb2RhbC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzWydtb2RhbF9fZm9ybV90eXBlX2FkZC1mb3JtJ10ucmVzZXRWYWxpZGF0aW9uKCk7XG59KTtcblxucHJvZmlsZVVzZXJBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGVkaXRBdmF0YXJNb2RhbC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JzWydtb2RhbF9fZm9ybV90eXBlX2VkaXQtYXZhdGFyLWZvcm0nXS5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsQ2xpY2siLCJvd25lcklkIiwiYWRkTGlrZSIsInJlbW92ZUxpa2UiLCJfY2FyZExpa2VCdG4iLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIl9yZW1vdmVMaWtlIiwiX2FkZExpa2UiLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2RhdGEiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZURlbENsaWNrIiwiX2NhcmRTZWxlY3RvciIsIl9vd25lcklkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRQaG90byIsInNyYyIsImFsdCIsIl9jYXJkVGl0bGUiLCJ0ZXh0Q29udGVudCIsIl9jYXJkUmVtb3ZlQnRuIiwiX2xpa2VzQ291bnRlciIsImxpa2VzIiwibGVuZ3RoIiwiX2NoZWNrT3duZXIiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJyZXMiLCJ0b2dnbGUiLCJyZW1vdmUiLCJvd25lciIsIl9pZCIsInN0eWxlIiwiZGlzcGxheSIsImZvckVhY2giLCJlbGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsIl9saWtlQ2FyZCIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsIl9lcnJvckVsZW1lbnQiLCJfZm9ybUVsZW1lbnQiLCJpZCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl9pbnB1dExpc3QiLCJzb21lIiwiX2J1dHRvbkVsZW1lbnQiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImRpc2FibGVkIiwiX2hhc0ludmFsaWRJbnB1dCIsImRpc2FibGVCdXR0b25TdGF0ZSIsIl9lbmFibGVCdXR0b25TdGF0ZSIsInByZXZlbnREZWZhdWx0IiwiVXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJJbmZvIiwidXNlckF2YXRhciIsIl91c2VyTmFtZSIsIl91c2VySW5mbyIsIl91c2VyQXZhdGFyIiwiYWJvdXQiLCJhdmF0YXIiLCJzZXRBdmF0YXIiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2hhbmRsZUNsb3NlQnRuQW5kT3ZlcmxheSIsIl9yZW1vdmVFdmVudExpc3RlbmVycyIsImtleSIsImNsb3NlIiwidGFyZ2V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEltYWdlIiwiX21vZGFsSW1hZ2VQaWN0dXJlIiwiX21vZGFsSW1hZ2VDYXB0aW9uIiwiZWRpdEJ1dHRvbiIsImFkZEJ1dHRvbiIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZmlsZVVzZXJBdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ0biIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImluUHJvZ3Jlc3MiLCJkZWZhdWx0VGV4dCIsInJlc2V0IiwiQXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwidGhlbiIsIl9nZXRSZXNwb25zZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2FyZElkIiwiaW5wdXRWYWx1ZURhdGEiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJfZGVsZXRlQ2FyZCIsInN1Ym1pdCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwicmVjaWV2ZWRVc2VySW5mbyIsInJlY2lldmVkSW5pdGlhbENhcmRzIiwic2V0VXNlckluZm8iLCJjYXJkc1NlY3Rpb24iLCJyZW5kZXJJdGVtcyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImVkaXRQcm9maWxlTW9kYWwiLCJub3RpZnlMb2FkUHJvZ3Jlc3MiLCJwcm9maWxlSW5wdXRWYWx1ZXMiLCJnZXRJbnB1dFZhbHVlcyIsImZpbmFsbHkiLCJlZGl0QXZhdGFyTW9kYWwiLCJhZGRBdmF0YXIiLCJhZGRDYXJkTW9kYWwiLCJuZXdDYXJkSW5wdXRWYWx1ZXMiLCJhZGRDYXJkIiwibmV3Q2FyZCIsImNyZWF0ZU5ld0NhcmQiLCJhZGRJdGVtIiwiZGVsZXRlQ2FyZE1vZGFsIiwibmV3Q2FyZGRhdGEiLCJjYXJkIiwibW9kYWxJbWFnZSIsIm9wZW4iLCJzZXRTdWJtaXRIYW5kbGVyIiwiZGVsQ2FyZCIsInJlbW92ZUNhcmQiLCJ1cGRhdGVMaWtlcyIsImdlbmVyYXRlQ2FyZCIsImNhcmRJdGVtIiwiZm9ybVZhbGlkYXRvcnMiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJyZWNpZXZlZEluZm8iLCJyZXNldFZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9